---
name: checkpoint
description: チェックポイントスキル。作業の節目で進捗を記録し、状態を保存する。
---

# チェックポイント（Checkpoint）スキル

*「撤退路を確保せずして、進軍するな」*

## 概要

複雑なタスクの遂行中に、作業の節目で状態を記録し、必要に応じて復帰できるようにするスキル。

## チェックポイントの目的

1. **進捗の可視化**: どこまで完了したかを明確に
2. **復帰点の確保**: 問題発生時に戻れる地点
3. **引き継ぎ**: 他のエージェントへの状態伝達
4. **報告**: 元帥への進捗報告の根拠

## チェックポイント作成タイミング

### 必須タイミング
- フェーズ完了時
- 重要な意思決定後
- リスクの高い操作前
- 長時間タスクの中間点

### 推奨タイミング
- 方針転換時
- 外部依存の待機前
- セッション終了前
- コンテキスト圧縮前

## チェックポイント記録フォーマット

```markdown
# Checkpoint: [チェックポイント名]

## 基本情報
- 作成日時: [日時]
- 作成者: [エージェント名]
- タスクID: [該当する場合]

## 現在の状態

### 完了済み
- [x] [完了したタスク1]
- [x] [完了したタスク2]

### 進行中
- [ ] [進行中のタスク] - [進捗: X%]

### 未着手
- [ ] [未着手タスク1]
- [ ] [未着手タスク2]

## コンテキスト情報

### 重要な判断
- [判断1]: [選択した内容と理由]
- [判断2]: [選択した内容と理由]

### 発見事項
- [発見1]
- [発見2]

### 課題・ブロッカー
- [課題1]: [状況と対応方針]

## ファイル状態
| ファイル | 状態 | 備考 |
|---------|------|------|
| [ファイル1] | 作成/更新/変更なし | [詳細] |

## 復帰手順

このチェックポイントから再開する場合:

1. [確認事項1]
2. [確認事項2]
3. [次のアクション]

## 次のステップ
1. [次に行うべきこと1]
2. [次に行うべきこと2]
```

## チェックポイント管理

### 保存場所
`memory/checkpoints/[日付]_[チェックポイント名].md`

### 命名規則
- `YYYYMMDD_HHMMSS_[簡潔な説明].md`
- 例: `20260202_1430_phase1_complete.md`

### 保持期間
- アクティブなタスク: 全て保持
- 完了タスク: 最新5件を保持
- 古いものは `memory/checkpoints/archive/` へ

## チェックポイント比較

### 比較コマンド
二つのチェックポイント間の差分を確認:

```
## 比較: [CP1] vs [CP2]

### 進捗差分
- 新たに完了: [タスクリスト]
- 新たに発生: [課題リスト]

### 判断変更
- [変更された判断とその理由]

### リスク変化
- [リスクレベルの変化]
```

## ダッシュボード連携

チェックポイント作成時、`dashboard.md` を更新:

```markdown
## 最新チェックポイント
- 名称: [チェックポイント名]
- 時刻: [日時]
- 進捗: [完了タスク数]/[全タスク数]
- 状態: [正常/要注意/ブロック中]
```

## ベストプラクティス

1. **こまめに作成**: 大きな作業単位より小さな単位で
2. **明確な命名**: 後から見てわかる名前を
3. **コンテキスト記録**: 判断の背景も残す
4. **復帰手順明記**: 自分以外でも復帰できるように
5. **不要なものは削除**: 古いチェックポイントは整理

## 緊急時の復帰

問題発生時:
1. 最新の安定チェックポイントを特定
2. 復帰手順を確認
3. 必要なファイル状態を復元
4. 進行中だった作業を再開

---
*「退路を断つのは、勝利を確信してからだ」*
